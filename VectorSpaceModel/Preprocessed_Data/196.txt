learning common metric homogenous task traffic flow prediction metric learning cm knn traffic flow prediction common metric learning lcm nearest neighbor based nonparametric regression is classic data driven method traffic flow prediction intelligent transportation system it performance of those model depend heavily similarity or distance metric used search nearest neighborhood metric learning algorithm been developed learn distance metric from data recent year real world transportation application multiple forecasting task set since there lot of road section and detector point traffic network previous work tend learn only one global metric used task or learn multiple local metric each task which may lead under fitting or over fitting problem balance these two kind of method and improve generalization of learned metric propose common metric learning algorithm under intuition that homogenous task tend similar local metric then learned common metric used common metric knn cm knn traffic flow prediction experimental result show that our algorithm learn common metric reasonable and cm knn method traffic flow prediction outperforms other competing method