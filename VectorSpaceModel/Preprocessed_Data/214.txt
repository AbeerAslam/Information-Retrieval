using consumer behavior data reduce energy consumption smart home applying machine learning save energy without lowering comfort of inhabitant smart city smart home energy saving recommender system association rule unsupervised learning internet of thing this paper discusses how usage pattern and preference of inhabitant learned efficiently allow smart home autonomously achieve energy saving propose frequent sequential pattern mining algorithm suitable real life smart home event data performance of proposed algorithm is compared existing algorithm regarding completeness correctness of result run time well memory consumption and elaborates shortcoming of different solution also propose recommender system based developed algorithm this recommender provides recommendation user reduce their energy consumption recommender system wa deployed set of test home test participant rated impact of recommendation their comfort used this feedback adjust system parameter and make it more accurate during second test phase historical dataset provided by digitalstrom contained 33 home with 3521 device and over 4 million event system produced 160 recommendation first phase and 120 second phase ratio of useful recommendation wa close 10